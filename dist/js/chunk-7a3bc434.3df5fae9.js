(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a3bc434"],{1276:function(t,e,i){"use strict";var a=i("d784"),n=i("44e7"),r=i("825a"),s=i("1d80"),o=i("4840"),l=i("8aa5"),c=i("50c4"),u=i("14c3"),d=i("9263"),v=i("d039"),h=[].push,p=Math.min,m=4294967295,g=!v((function(){return!RegExp(m,"y")}));a("split",2,(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(s(this)),r=void 0===i?m:i>>>0;if(0===r)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,r);var o,l,c,u=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,v+"g");while(o=d.call(g,a)){if(l=g.lastIndex,l>p&&(u.push(a.slice(p,o.index)),o.length>1&&o.index<a.length&&h.apply(u,o.slice(1)),c=o[0].length,p=l,u.length>=r))break;g.lastIndex===o.index&&g.lastIndex++}return p===a.length?!c&&g.test("")||u.push(""):u.push(a.slice(p)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n,i):a.call(String(n),e,i)},function(t,n){var s=i(a,t,this,n,a!==e);if(s.done)return s.value;var d=r(t),v=String(this),h=o(d,RegExp),f=d.unicode,_=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),b=new h(g?d:"^(?:"+d.source+")",_),$=void 0===n?m:n>>>0;if(0===$)return[];if(0===v.length)return null===u(b,v)?[v]:[];var C=0,y=0,x=[];while(y<v.length){b.lastIndex=g?y:0;var w,k=u(b,g?v:v.slice(y));if(null===k||(w=p(c(b.lastIndex+(g?0:y)),v.length))===C)y=l(v,y,f);else{if(x.push(v.slice(C,y)),x.length===$)return x;for(var I=1;I<=k.length-1;I++)if(x.push(k[I]),x.length===$)return x;y=C=w}}return x.push(v.slice(C)),x}]}),!g)},"2d27":function(t,e,i){},"44e7":function(t,e,i){var a=i("861d"),n=i("c6b6"),r=i("b622"),s=r("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},8349:function(t,e,i){"use strict";var a=i("2d27"),n=i.n(a);n.a},"9b1f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("h1",{staticClass:"h4 mb-2 text-gray-800"},[t._v("Thêm Mới Chuyến Đi")]),t.trip?i("form",{attrs:{role:"form",method:"POST",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-8"},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-group "},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Tuyến đường")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.route,expression:"route"}],staticClass:"form-control",on:{blur:function(e){return t.$v.route.$touch()},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.route=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Tuyến Đường")]),t._l(t.routes,(function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2),t.$v.route.$dirty&&!t.$v.route.isValid?i("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn tuyến đường!")]):t._e()]),i("div",{staticClass:"form-group "},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Thời gian xuất phát")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticClass:"form-control",on:{blur:function(e){return t.$v.hours.$touch()},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hours=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"-1",disabled:""}},[t._v("Giờ")]),t._l(24,(function(e){return i("option",{key:e,domProps:{value:e-1}},[t._v(t._s(e-1)+" Giờ")])}))],2),t.$v.hours.$dirty&&!t.$v.hours.isValid?i("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn giờ!")]):t._e()]),i("div",{staticClass:"col-sm-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.minute,expression:"minute"}],staticClass:"form-control",on:{blur:function(e){return t.$v.minute.$touch()},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minute=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"-1",disabled:""}},[t._v("Phút")]),t._l(60,(function(e){return i("option",{key:e,domProps:{value:e-1}},[t._v(t._s(e-1)+" Phút")])}))],2),t.$v.minute.$dirty&&!t.$v.minute.isValid?i("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn Phút!")]):t._e()]),i("div",{staticClass:"col-sm-6"},[i("date-picker",{attrs:{"input-class":"form-control",lang:t.lang,placeholder:"Chọn Ngày",editable:!1,valueType:"format"},on:{blur:function(e){return t.$v.date.$touch()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t.$v.date.$dirty&&!t.$v.date.required?i("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn ngày!")]):t._e()],1)])]),i("div",{staticClass:"form-group "},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Ghi chú")]),i("ckeditor",{attrs:{name:"note",editor:t.editor,config:t.editorConfig},on:{blur:function(e){return t.$v.note.$touch()}},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),t.$v.note.$dirty&&!t.$v.note.required?i("p",{staticClass:"alert-danger mt-2"},[t._v("Nội dung không được để trống !")]):t._e(),!t.$v.note.$dirty||t.$v.note.minLength&&t.$v.note.maxLength?t._e():i("p",{staticClass:"alert-danger mt-2"},[t._v("Độ dài ghi chú phải từ 3 đến 255 ký tự !")])],1)])])]),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-group "},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nhà xe")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.garage,expression:"garage"}],staticClass:"form-control",on:{blur:function(e){return t.$v.garage.$touch()},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.garage=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Nhà Xe")]),t._l(t.garages,(function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2),t.$v.garage.$dirty&&!t.$v.garage.isValid?i("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn nhà xe!")]):t._e()]),i("div",{staticClass:"form-group "},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Loại xe")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.vehicle,expression:"vehicle"}],staticClass:"form-control",on:{blur:function(e){return t.$v.vehicle.$touch()},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.vehicle=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Loại Xe")]),t._l(t.vehicles,(function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2),t.$v.vehicle.$dirty&&!t.$v.vehicle.isValid?i("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn loại xe!")]):t._e()]),i("div",{staticClass:"form-group "},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Giá")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"number",name:"price",autocomplete:"off"},domProps:{value:t.price},on:{blur:function(e){return t.$v.price.$touch()},input:function(e){e.target.composing||(t.price=e.target.value)}}}),t.$v.price.$dirty&&!t.$v.price.required?i("p",{staticClass:"alert-danger mt-2"},[t._v("Giá không được để trống !")]):t._e()])])])]),i("div",{staticClass:"col-sm-12 "},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-footer text-center"},[i("router-link",{staticClass:"btn btn-sm btn-warning btn-icon-split",attrs:{to:"/admin/trips",type:"button"}},[i("span",{staticClass:"icon text-white-50"},[i("i",{staticClass:"fas fa-exclamation-triangle"})]),i("span",{staticClass:"text"},[t._v("Hủy Bỏ")])]),t._v(" "),i("button",{staticClass:"btn btn-sm btn-primary btn-icon-split",attrs:{type:"submit"}},[i("span",{staticClass:"icon text-white-50"},[t.loadingEdit?i("i",{staticClass:"fa fa-spinner fa-spin"}):i("i",{staticClass:"fa fa-save"})]),i("span",{staticClass:"text"},[t._v("Thêm mới")])])],1)])])])]):t._e()])},n=[],r=(i("ac1f"),i("1276"),i("b5ae")),s=i("fb3d"),o=i.n(s),l=i("ec45"),c=(i("411c"),i("de1a"),{name:"app",data:function(){return{editor:o.a,editorConfig:{},route:"0",garage:"0",vehicle:"0",note:"",price:"",date:"",hours:"-1",minute:"-1",startTime:"",lang:{formatLocale:{firstDayOfWeek:1},monthBeforeYear:!1},count:0,loadingEdit:!1}},created:function(){this.$store.dispatch("fetchDetailTrip",this.$route.params.id),this.$store.dispatch("fetchListRoutes"),this.$store.dispatch("fetchListGarages"),this.$store.dispatch("fetchListVehicles")},components:{DatePicker:l["default"]},validations:{note:{required:r["required"],minLength:Object(r["minLength"])(3),maxLength:Object(r["maxLength"])(255)},route:{isValid:Object(r["not"])((function(t){return"0"===t}))},garage:{isValid:Object(r["not"])((function(t){return"0"===t}))},vehicle:{isValid:Object(r["not"])((function(t){return"0"===t}))},hours:{isValid:Object(r["not"])((function(t){return"-1"===t}))},minute:{isValid:Object(r["not"])((function(t){return"-1"===t}))},date:{required:r["required"]},price:{required:r["required"]}},watch:{trip:function(t){t&&(this.route=t.routeId._id,this.garage=t.garageId._id,this.vehicle=t.vehicleId._id,this.note=t.note,this.price=t.price,1===this.count&&(this.loadingEdit=!1,this.$toast.success("Thêm chuyến xe thành công",{position:"bottom-right"})))}},computed:{loading:function(){return this.$store.state.trip.loading},trip:function(){return this.$store.state.trip.trip},routes:function(){return this.$store.state.routes.data},vehicles:function(){return this.$store.state.vehicle.data},garages:function(){return this.$store.state.garage.data}},methods:{handleSubmit:function(t){if(this.$v.$anyDirty&&!this.$v.$anyError){var e=this.date.split("-"),i=new Date(e[0],e[1]-1,e[2],this.hours,this.minute),a={garageId:this.garage,routeId:this.route,vehicleId:this.vehicle,startTime:i,price:this.price,note:this.note};this.count=1,this.loadingEdit=!0,this.$store.dispatch("postTripAgain",a),t.target.reset()}}}}),u=c,d=(i("8349"),i("2877")),v=Object(d["a"])(u,a,n,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-7a3bc434.3df5fae9.js.map