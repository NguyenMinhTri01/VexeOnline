(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4d1a4d4"],{"06a8":function(t,e,s){"use strict";var i=s("7733"),a=s.n(i);a.a},"159b":function(t,e,s){var i=s("da84"),a=s("fdbc"),n=s("17c2"),c=s("9112");for(var r in a){var o=i[r],l=o&&o.prototype;if(l&&l.forEach!==n)try{c(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(t,e,s){"use strict";var i=s("b727").forEach,a=s("a640"),n=s("ae40"),c=a("forEach"),r=n("forEach");t.exports=c&&r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1f54":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3"},[s("FormSearchTicket")],1),s("div",{staticClass:"col-sm-9"},[s("ResultOfTicket")],1)])])},a=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-search-ticket"},[s("form",{staticClass:"form-group",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("h5",{staticClass:"text-ticket mb-3"},[t._v("Nhập Thông Tin Vé")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control mb-3",attrs:{type:"text",placeholder:"Mã Vé"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control mb-3",attrs:{type:"text",placeholder:"SDT"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),s("button",{staticClass:"btn-check-ticket form-control",attrs:{type:"submit"}},[t._v("Kiểm tra vé")])]),t._m(0)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"div-note"},[s("p",{staticClass:"note-title"},[t._v(" Lưu ý: ")]),s("p",{staticClass:"note-content"},[s("span",[t._v("Trường hợp bạn không thể hủy vé qua mạng hoặc muốn đổi sang vé khác vui lòng liên hệ VeXe Online qua số điện thoại 0123 456 789.")])])])}],r={data:function(){return{code:"",phone:""}},methods:{handleSubmit:function(){if(this.code&&this.phone){var t={code:this.code,phone:this.phone};this.$store.dispatch("fetchDetailTicketByCode",t)}}}},o=r,l=(s("9c11"),s("2877")),u=Object(l["a"])(o,n,c,!1,null,"62e93e4e",null),d=u.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"result-ticket"},[t.loadingResult?s("div",{staticClass:"notication"},[t.loading?s("Loader"):s("div",{staticClass:"alert alert-success"},[s("span",[t._v(t._s(t.notification))])]),t._m(0)],1):s("div",{staticClass:"content-ticket"},[s("CancelTicketConfirm",{on:{eventConfirmCancel:t.handleEventConfirmCancel}}),s("div",{staticClass:"customer-info"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-8"},[s("h4",[s("strong",[t._v(t._s(t.ticket.customerName))])])]),s("div",{staticClass:"col-sm-4"},[s("p",[s("strong",[t._v("Điện Thoại:")]),t._v(" "+t._s(t.ticket.phone)+" ")]),s("p",[s("strong",[t._v("Email:")]),t._v(" "+t._s(t.ticket.email)+" ")])])])]),s("div",{staticClass:"ticket-info"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-7"},[s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"col-8 text-right mb-2"},[t._v(t._s(t.ticket.tripId.garageId.name))]),t._m(2),s("div",{staticClass:"col-6 text-right mb-2"},[t._v(t._s(t.ticket.tripId.vehicleId.name))]),t._m(3),s("div",{staticClass:"col-6 text-right mb-2"},[t._v(t._s(t.ticket.tripId.routeId.fromStationId.name))]),t._m(4),s("div",{staticClass:"col-6 text-right mb-2"},[t._v(t._s(t.ticket.tripId.startTime))]),t._m(5),s("div",{staticClass:"col-6 text-right mb-2"},[t._v(t._s(t.ticket.tripId.routeId.toStationId.name))]),t._m(6),s("div",{staticClass:"col-5 text-right mb-2"},[t._v(t._s(t.ticket.tripId.endTime))]),t._m(7),s("div",{staticClass:"col-8 text-right mb-2"},[t._v(t._s(t.ticket.tripId.routeId.name))])])]),s("div",{staticClass:"col-sm-5"},[s("div",{staticClass:"row"},[t._m(8),s("div",{staticClass:"col-4 text-right mb-2"},[t._v(t._s(t.ticket.tripId.price))]),t._m(9),s("div",{staticClass:"col-4 text-right mb-2"},[t._v(t._s(t.ticket.numberOfSeat)+" Ghế")]),t._m(10),s("div",{staticClass:"col-4 text-right mb-2"},[t._v(t._s(t.ticket.listSeat))]),s("div",{staticClass:"col-8 mb-2"},[s("strong",{class:t.statusClass},[t._v("Tổng Tiền:")])]),s("div",{staticClass:"col-4 text-right mb-2",class:t.statusClass},[t._v(t._s(t.ticket.totalPrice))]),t._m(11),s("div",{staticClass:"col-6 text-right mb-2",class:t.statusClass},[t._v(t._s(t.statusText))]),s("div",{staticClass:"col-12 mt-4 mb-3 text-right"},[2!=t.ticket.statusTicket?s("button",{staticClass:"btn-cancel",attrs:{"data-toggle":"modal","data-target":"#cancelModal"}},[t._v("Hủy Vé")]):t._e()])])])])]),s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn-return mt-4",on:{click:t.returnHome}},[t._v("Quay Lại Trang Chủ")])])],1)])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"back-ground"},[s("img",{attrs:{src:"https://res.cloudinary.com/vexeonline/c_scale,w_850/VexeOnlineMedia/imageDefault/bus_elxsln",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4 mb-2"},[s("strong",[t._v("Hãng Xe:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 mb-2"},[s("strong",[t._v("Loại Xe:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 mb-2"},[s("strong",[t._v("Nơi Đón:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 mb-2"},[s("strong",[t._v("Giờ Đón")]),s("i",[t._v("(dự kiến) :")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 mb-2"},[s("strong",[t._v("Nơi Trả Khách:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-7 mb-2"},[s("strong",[t._v("Giờ Trả Khách")]),s("i",[t._v("(dự kiến) :")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4 mb-2"},[s("strong",[t._v("Tuyến Đường:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 mb-2"},[s("strong",[t._v("Giá Vé:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 mb-2"},[s("strong",[t._v("Số Lượng Ghế Đặt:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-8 mb-2"},[s("strong",[t._v("Số Ghế:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 mb-2"},[s("strong",[t._v("Tình Trạng Vé:")])])}],h=(s("99af"),s("5530")),f=s("4138"),_=s("c1df"),b=s.n(_),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"cancelModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[t._v("Bạn có chắc chắn muốn hủy vé này không?")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Không")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.confirmCancel}},[t._v("Vẫn Hủy")])])])])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Sẵn sàng hủy vé?")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],C={methods:{confirmCancel:function(){this.$emit("eventConfirmCancel")}}},k=C,T=Object(l["a"])(k,p,g,!1,null,null,null),y=T.exports,x={data:function(){return{loadingResult:!0,notification:"Vui lòng nhập thông tin và bấm kiểm tra vé",ticket:null,statusClass:"text-warning",statusText:"Chưa Thanh Toán",flag:!1}},components:{Loader:f["a"],CancelTicketConfirm:y},methods:{returnHome:function(){this.$router.push("/")},formatNumber:function(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)},handleEventConfirmCancel:function(){this.$store.dispatch("cancelTicket",this.ticket._id),this.flag=!0}},computed:{data:function(){return this.$store.state.ticket.ticket},loading:function(){return this.$store.state.ticket.loading}},watch:{data:function(t){if(t)if(t.err)this.loadingResult=!0,this.notification="Mã vé hoặc số điện thoại không đúng. Vui lòng thử lại";else{switch(b.a.locale("vi"),this.ticket=Object(h["a"])({},t),this.ticket.totalPrice=this.formatNumber(this.ticket.totalPrice),this.ticket.tripId.price=this.formatNumber(this.ticket.tripId.price),this.ticket.tripId.startTime="".concat(b()(this.ticket.tripId.startTime).format("LT")," ").concat(b()(this.ticket.tripId.startTime).format("L")),this.ticket.tripId.endTime="".concat(b()(this.ticket.tripId.endTime).format("LT")," ").concat(b()(this.ticket.tripId.endTime).format("L")),this.ticket.statusTicket){case 0:this.statusClass="text-warning",this.statusText="Chưa Thanh Toán";break;case 1:this.statusClass="text-success",this.statusText="Đã Thanh Toán";break;case 2:this.statusClass="text-secondary",this.statusText="Đã Hủy";break}this.loadingResult=!1,this.flag&&this.$toast.success("Huy Vé Thành công",{position:"bottom-right",duration:1e3})}}}},E=x,O=(s("06a8"),Object(l["a"])(E,m,v,!1,null,"5875508e",null)),w=O.exports,$={components:{FormSearchTicket:d,ResultOfTicket:w}},I=$,j=Object(l["a"])(I,i,a,!1,null,null,null);e["default"]=j.exports},4138:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("div",{staticClass:"lds-ellipsis"},[s("div"),s("div"),s("div"),s("div")])])}],n={},c=n,r=(s("4399"),s("2877")),o=Object(r["a"])(c,i,a,!1,null,null,null);e["a"]=o.exports},4160:function(t,e,s){"use strict";var i=s("23e7"),a=s("17c2");i({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},4399:function(t,e,s){"use strict";var i=s("9e91"),a=s.n(i);a.a},5530:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}},7733:function(t,e,s){},"9c11":function(t,e,s){"use strict";var i=s("bd60"),a=s.n(i);a.a},"9e91":function(t,e,s){},a640:function(t,e,s){"use strict";var i=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&i((function(){s.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,s){var i=s("23e7"),a=s("7b0b"),n=s("df75"),c=s("d039"),r=c((function(){n(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(t){return n(a(t))}})},bd60:function(t,e,s){},dbb4:function(t,e,s){var i=s("23e7"),a=s("83ab"),n=s("56ef"),c=s("fc6a"),r=s("06cf"),o=s("8418");i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,s,i=c(t),a=r.f,l=n(i),u={},d=0;while(l.length>d)s=a(i,e=l[d++]),void 0!==s&&o(u,e,s);return u}})},e439:function(t,e,s){var i=s("23e7"),a=s("d039"),n=s("fc6a"),c=s("06cf").f,r=s("83ab"),o=a((function(){c(1)})),l=!r||o;i({target:"Object",stat:!0,forced:l,sham:!r},{getOwnPropertyDescriptor:function(t,e){return c(n(t),e)}})}}]);
//# sourceMappingURL=chunk-f4d1a4d4.64173862.js.map