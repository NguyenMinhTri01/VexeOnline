(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b880970"],{"12a1":function(t,e,a){},9618:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("h1",{staticClass:"h4 mb-2 text-gray-800"},[t._v("Thêm Mới Nhà Xe")]),a("form",{attrs:{role:"form",method:"POST",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Tên Nhà Xe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",autocomplete:"off"},domProps:{value:t.name},on:{blur:function(e){return t.$v.name.$touch()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t.$v.name.$dirty&&!t.$v.name.required?a("p",{staticClass:"alert-danger mt-2"},[t._v("Tên không được để trống !")]):t._e(),!t.$v.name.$dirty||t.$v.name.minLength&&t.$v.name.maxLength?t._e():a("p",{staticClass:"alert-danger mt-2"},[t._v("Độ dài tên phải từ 3 đến 255 ký tự !")])]),a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Địa chỉ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProvince,expression:"selectedProvince"}],staticClass:"form-control",on:{blur:function(e){return t.$v.selectedProvince.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedProvince=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn TP/Tỉnh")]),t._l(t.provinces,(function(e,s){return a("option",{key:s,domProps:{value:e.code}},[t._v(t._s(e.name_with_type))])}))],2),t.$v.selectedProvince.$dirty&&!t.$v.selectedProvince.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn TP/Tỉnh!")]):t._e()]),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDistrict,expression:"selectedDistrict"}],staticClass:"form-control",on:{blur:function(e){return t.$v.selectedDistrict.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDistrict=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Quận/Huyện")]),t._l(t.districts,(function(e,s){return a("option",{key:s,domProps:{value:e.code}},[t._v(t._s(e.name_with_type))])}))],2),t.$v.selectedDistrict.$dirty&&!t.$v.selectedDistrict.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn Quận/Huyện!")]):t._e()]),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedWards,expression:"selectedWards"}],staticClass:"form-control",on:{blur:function(e){return t.$v.selectedWards.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedWards=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Phường/Xã")]),t._l(t.wards,(function(e,s){return a("option",{key:s,domProps:{value:e.path_with_type}},[t._v(t._s(e.name_with_type))])}))],2),t.$v.selectedWards.$dirty&&!t.$v.selectedWards.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn Phường/Xã!")]):t._e()]),a("div",{staticClass:"col-sm-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control mt-2",attrs:{placeholder:"Tên Đường,Khu phố, Ấp, Thôn, Xóm..."},domProps:{value:t.street},on:{blur:function(e){return t.$v.street.$touch()},input:function(e){e.target.composing||(t.street=e.target.value)}}}),t.$v.street.$dirty&&!t.$v.street.required?a("p",{staticClass:"alert-danger mt-2"},[t._v("không được để trống !")]):t._e(),!t.$v.street.$dirty||t.$v.street.minLength&&t.$v.street.maxLength?t._e():a("p",{staticClass:"alert-danger mt-2"},[t._v("Độ dài phải từ 3 đến 255 ký tự !")])])])]),a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nội dung")]),a("ckeditor",{attrs:{name:"content",editor:t.editor,config:t.editorConfig},on:{blur:function(e){return t.$v.content.$touch()}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t.$v.content.$dirty&&!t.$v.content.required?a("p",{staticClass:"alert-danger mt-2"},[t._v("Nội dung không được để trống !")]):t._e()],1)])])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-body"},[t.urlImage?a("img",{staticClass:"image-preview",attrs:{src:t.urlImage,alt:"avatar"}}):a("img",{staticClass:"image-preview",attrs:{src:"https://res.cloudinary.com/vexeonline/VexeOnlineMedia/imageDefault/no-image_ljozla",alt:"avatar"}}),a("div",{staticClass:"form-group mt-2"},[a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"customFile"},on:{change:t.previewFile}}),a("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v(t._s(t.fileName))]),t.errImage?a("p",{staticClass:"alert-danger mt-2"},[t._v(t._s(t.errImage))]):t._e()])])])])]),a("div",{staticClass:"col-sm-12 "},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-footer text-center"},[a("router-link",{staticClass:"btn btn-sm btn-warning btn-icon-split",attrs:{to:"/admin/garages",type:"button"}},[a("span",{staticClass:"icon text-white-50"},[a("i",{staticClass:"fas fa-exclamation-triangle"})]),a("span",{staticClass:"text"},[t._v("Hủy Bỏ")])]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-primary btn-icon-split",attrs:{type:"submit"}},[a("span",{staticClass:"icon text-white-50"},[t.loading?a("i",{staticClass:"fa fa-spinner fa-spin"}):a("i",{staticClass:"fa fa-save"})]),a("span",{staticClass:"text"},[t._v("Thêm Mới")])])],1)])])])])])},i=[],n=(a("99af"),a("7db0"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b5ae")),r=a("fb3d"),c=a.n(r),l={name:"app",data:function(){return{editor:c.a,editorConfig:{},content:"",provinces:a("6cef"),districts:{},wards:{},selectedProvince:"0",selectedDistrict:"0",selectedWards:"0",street:"",fileName:"Chọn File Ảnh",address:"",name:null,urlImage:null,errImage:null,file:null}},validations:{name:{required:n["required"],minLength:Object(n["minLength"])(3),maxLength:Object(n["maxLength"])(255)},content:{required:n["required"]},selectedProvince:{isValid:Object(n["not"])((function(t){return"0"===t}))},selectedDistrict:{isValid:Object(n["not"])((function(t){return"0"===t}))},selectedWards:{isValid:Object(n["not"])((function(t){return"0"===t}))},street:{required:n["required"],minLength:Object(n["minLength"])(3),maxLength:Object(n["maxLength"])(255)}},watch:{selectedProvince:function(){"0"!=this.selectedProvince?(this.districts=a("5ca5")("./".concat(this.selectedProvince,".json")),this.selectedDistrict="0"):this.districts={}},selectedDistrict:function(){"0"!=this.selectedDistrict?(this.wards=a("20fc")("./".concat(this.selectedDistrict,".json")),this.selectedWards="0"):this.wards={}},garage:function(t){t&&this.$toast.success("Thêm nhà xe thành công",{position:"bottom-right"})}},computed:{loading:function(){return this.$store.state.garage.loading},garage:function(){return this.$store.state.garage.garage}},methods:{handleSubmit:function(t){if(this.$v.$anyDirty&&!this.$v.$anyError&&!this.errImage){var e={name:this.name,address:"".concat(this.street,", ").concat(this.selectedWards),content:this.content};if(this.file){var a=new FormData;a.append("avatar",this.file),this.$store.dispatch("postGarage",{formData:e,fileAvatar:a})}else this.$store.dispatch("postGarage",{formData:e,fileAvatar:null});t.target.reset()}},previewFile:function(t){var e=["image/jpeg","image/png","image/gif"],a=t.target.files[0];e.find((function(t){return t===a.type}))?a.size>2097152?(this.errImage="kích thước file ảnh tối đa 2MB!",this.fileName="Chọn File Ảnh",this.urlImage=null):(this.file=a,this.fileName=a.name,this.errImage=null,this.urlImage=URL.createObjectURL(a)):(this.errImage="File ảnh không hợp lệ",this.fileName="Chọn File Ảnh",this.urlImage=null)}}},o=l,d=(a("cae5"),a("2877")),u=Object(d["a"])(o,s,i,!1,null,null,null);e["default"]=u.exports},cae5:function(t,e,a){"use strict";var s=a("12a1"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-5b880970.0f77d2e1.js.map