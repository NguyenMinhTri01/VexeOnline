{"version":3,"sources":["webpack:///./src/views/adminTemplate/vehiclePage/add.vue?4718","webpack:///src/views/adminTemplate/vehiclePage/add.vue","webpack:///./src/views/adminTemplate/vehiclePage/add.vue?2602","webpack:///./src/views/adminTemplate/vehiclePage/add.vue","webpack:///./src/views/adminTemplate/vehiclePage/add.vue?84ef"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","preventDefault","handleSubmit","directives","name","rawName","value","expression","domProps","$v","$touch","target","composing","$dirty","required","_e","minLength","maxLength","numberOfSeats","between","utilities","ref","dropzoneOptions","removeFile","successUpload","urlImage","previewFile","_s","fileName","errImage","staticRenderFns","components","vueDropzone","data","file","listImages","url","thumbnailWidth","thumbnailHeight","maxFilesize","acceptedFiles","headers","dictDefaultMessage","maxFiles","paramName","validations","watch","vehicle","$refs","myVueDropzone","removeAllFiles","$toast","success","position","computed","loading","$store","state","userInfo","auth","infoUser","methods","$anyDirty","$anyError","fileAvatar","append","dispatch","event","reset","accessTypeFile","find","size","URL","createObjectURL","push","res","component"],"mappings":"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","file":"js/chunk-e12e97e0.a5dfb9bf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('h1',{staticClass:\"h4 mb-2 text-gray-800\"},[_vm._v(\"Thêm Xe\")]),_c('form',{attrs:{\"role\":\"form\",\"method\":\"POST\",\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-8\"},[_c('div',{staticClass:\"card shadow mb-4\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-8\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Tên loại xe\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"name\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.name)},on:{\"blur\":function($event){return _vm.$v.name.$touch()},\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),(_vm.$v.name.$dirty && !_vm.$v.name.required)?_c('p',{staticClass:\"alert-danger mt-2\"},[_vm._v(\"Tên không được để trống !\")]):_vm._e(),(_vm.$v.name.$dirty && (!_vm.$v.name.minLength || !_vm.$v.name.maxLength))?_c('p',{staticClass:\"alert-danger mt-2\"},[_vm._v(\"Độ dài tên phải từ 3 đến 255 ký tự !\")]):_vm._e()]),_c('div',{staticClass:\"col-sm-4\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Số lượng chỗ ngồi\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.numberOfSeats),expression:\"numberOfSeats\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.numberOfSeats)},on:{\"blur\":function($event){return _vm.$v.numberOfSeats.$touch()},\"input\":function($event){if($event.target.composing){ return; }_vm.numberOfSeats=$event.target.value}}}),(_vm.$v.numberOfSeats.$dirty && !_vm.$v.numberOfSeats.required)?_c('p',{staticClass:\"alert-danger mt-2\"},[_vm._v(\"Số lượng chỗ ngồi không được để trống !\")]):_vm._e(),(_vm.$v.numberOfSeats.$dirty && !_vm.$v.numberOfSeats.between)?_c('p',{staticClass:\"alert-danger mt-2\"},[_vm._v(\"Số lượng chỗ ngồi phải từ 4 đến 60 chỗ !\")]):_vm._e()])])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Các tiện ích trên xe (nếu có)\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.utilities),expression:\"utilities\"}],staticClass:\"form-control\",attrs:{\"name\":\"utilities\",\"id\":\"\",\"cols\":\"10\",\"rows\":\"3\"},domProps:{\"value\":(_vm.utilities)},on:{\"blur\":function($event){return _vm.$v.utilities.$touch()},\"input\":function($event){if($event.target.composing){ return; }_vm.utilities=$event.target.value}}}),(_vm.$v.utilities.$dirty && (!_vm.$v.utilities.minLength || !_vm.$v.utilities.maxLength))?_c('p',{staticClass:\"alert-danger mt-2\"},[_vm._v(\"Độ dài văn bản phải từ 3 đến 1000 ký tự !\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Album ảnh\")]),_c('vue-dropzone',{ref:\"myVueDropzone\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions},on:{\"vdropzone-removed-file\":function($event){return _vm.removeFile($event)},\"vdropzone-success\":_vm.successUpload}})],1)])])]),_c('div',{staticClass:\"col-sm-4\"},[_c('div',{staticClass:\"card shadow mb-4\"},[_c('div',{staticClass:\"card-body\"},[(_vm.urlImage)?_c('img',{staticClass:\"image-preview\",attrs:{\"src\":_vm.urlImage,\"alt\":\"avatar\"}}):_c('img',{staticClass:\"image-preview\",attrs:{\"src\":\"https://res.cloudinary.com/vexeonline/VexeOnlineMedia/imageDefault/no-image_ljozla\",\"alt\":\"avatar\"}}),_c('div',{staticClass:\"form-group mt-2\"},[_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",attrs:{\"type\":\"file\",\"id\":\"customFile\"},on:{\"change\":_vm.previewFile}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"customFile\"}},[_vm._v(_vm._s(_vm.fileName))]),(_vm.errImage)?_c('p',{staticClass:\"alert-danger mt-2\"},[_vm._v(_vm._s(_vm.errImage))]):_vm._e()])])])])]),_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"card shadow mb-4\"},[_c('div',{staticClass:\"card-footer text-center\"},[_c('router-link',{staticClass:\"btn btn-sm btn-warning btn-icon-split\",attrs:{\"to\":\"/admin/stations\",\"type\":\"button\"}},[_c('span',{staticClass:\"icon text-white-50\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]),_c('span',{staticClass:\"text\"},[_vm._v(\"Hủy Bỏ\")])]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-sm btn-primary btn-icon-split\",attrs:{\"type\":\"submit\"}},[_c('span',{staticClass:\"icon text-white-50\"},[(_vm.loading)?_c('i',{staticClass:\"fa fa-spinner fa-spin\"}):_c('i',{staticClass:\"fa fa-save\"})]),_c('span',{staticClass:\"text\"},[_vm._v(\"Thêm Mới\")])])],1)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container-fluid\">\r\n    <h1 class=\"h4 mb-2 text-gray-800\">Thêm Xe</h1>\r\n    <form @submit.prevent=\"handleSubmit\" role=\"form\" method=\"POST\" enctype=\"multipart/form-data\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-8\">\r\n          <div class=\"card shadow mb-4\">\r\n            <div class=\"card-body\">\r\n              <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-8\">\r\n                    <label for=\"exampleInputEmail1\">Tên loại xe</label>\r\n                    <input\r\n                      v-model=\"name\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      name=\"name\"\r\n                      autocomplete=\"off\"\r\n                      @blur=\"$v.name.$touch()\"\r\n                    />\r\n                    <p\r\n                      v-if=\"$v.name.$dirty && !$v.name.required\"\r\n                      class=\"alert-danger mt-2\"\r\n                    >Tên không được để trống !</p>\r\n                    <p\r\n                      v-if=\"$v.name.$dirty && (!$v.name.minLength || !$v.name.maxLength)\"\r\n                      class=\"alert-danger mt-2\"\r\n                    >Độ dài tên phải từ 3 đến 255 ký tự !</p>\r\n                  </div>\r\n                  <div class=\"col-sm-4\">\r\n                    <label for=\"exampleInputEmail1\">Số lượng chỗ ngồi</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      class=\"form-control\"\r\n                      autocomplete=\"off\"\r\n                      v-model=\"numberOfSeats\"\r\n                      @blur=\"$v.numberOfSeats.$touch()\"\r\n                    />\r\n                    <p\r\n                      v-if=\"$v.numberOfSeats.$dirty && !$v.numberOfSeats.required\"\r\n                      class=\"alert-danger mt-2\"\r\n                    >Số lượng chỗ ngồi không được để trống !</p> \r\n                    <p\r\n                      v-if=\"$v.numberOfSeats.$dirty && !$v.numberOfSeats.between\"\r\n                      class=\"alert-danger mt-2\"\r\n                    >Số lượng chỗ ngồi phải từ 4 đến 60 chỗ !</p>                                        \r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"exampleInputEmail1\">Các tiện ích trên xe (nếu có)</label>\r\n                <textarea v-model=\"utilities\" class=\"form-control\" name=\"utilities\" id cols=\"10\" rows=\"3\" @blur=\"$v.utilities.$touch()\"></textarea>\r\n                <p\r\n                  v-if=\"$v.utilities.$dirty && (!$v.utilities.minLength || !$v.utilities.maxLength)\"\r\n                  class=\"alert-danger mt-2\"\r\n                >Độ dài văn bản phải từ 3 đến 1000 ký tự !</p>                \r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"exampleInputEmail1\">Album ảnh</label>\r\n                <vue-dropzone \r\n                ref=\"myVueDropzone\" \r\n                id=\"dropzone\" \r\n                :options=\"dropzoneOptions\"\r\n                @vdropzone-removed-file=\"removeFile($event)\"\r\n                @vdropzone-success=\"successUpload\"\r\n                ></vue-dropzone>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4\">\r\n          <div class=\"card shadow mb-4\">\r\n            <div class=\"card-body\">\r\n              <img class=\"image-preview\" v-if=\"urlImage\" :src=\"urlImage\" alt=\"avatar\" />\r\n              <img\r\n                class=\"image-preview\"\r\n                v-else\r\n                src=\"https://res.cloudinary.com/vexeonline/VexeOnlineMedia/imageDefault/no-image_ljozla\"\r\n                alt=\"avatar\"\r\n              />\r\n              <div class=\"form-group mt-2\">\r\n                <div class=\"custom-file\">\r\n                  <input\r\n                    @change=\"previewFile\"\r\n                    type=\"file\"\r\n                    class=\"custom-file-input\"\r\n                    id=\"customFile\"\r\n                  />\r\n                  <label class=\"custom-file-label\" for=\"customFile\">{{fileName}}</label>\r\n                  <p v-if=\"errImage\" class=\"alert-danger mt-2\">{{errImage}}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-12\">\r\n          <div class=\"card shadow mb-4\">\r\n            <div class=\"card-footer text-center\">\r\n              <router-link\r\n                to=\"/admin/stations\"\r\n                type=\"button\"\r\n                class=\"btn btn-sm btn-warning btn-icon-split\"\r\n              >\r\n                <span class=\"icon text-white-50\">\r\n                  <i class=\"fas fa-exclamation-triangle\"></i>\r\n                </span>\r\n                <span class=\"text\">Hủy Bỏ</span>\r\n              </router-link>&nbsp;\r\n              <button type=\"submit\" class=\"btn btn-sm btn-primary btn-icon-split\">\r\n                <span class=\"icon text-white-50\">\r\n                  <i v-if=\"loading\" class=\"fa fa-spinner fa-spin\"></i>\r\n                  <i v-else class=\"fa fa-save\"></i>\r\n                </span>\r\n                <span class=\"text\">Thêm Mới</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { required, minLength, maxLength, between } from \"vuelidate/lib/validators\";\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\r\nexport default {\r\n  name: \"addStation\",\r\n  components: {\r\n    vueDropzone: vue2Dropzone,\r\n  },\r\n  data() {\r\n    return {\r\n      fileName: \"Chọn File Ảnh\",\r\n      name: \"\",\r\n      numberOfSeats : \"0\",\r\n      utilities : \"\",\r\n      urlImage: null,\r\n      errImage: null,\r\n      file: null,\r\n      listImages : [],\r\n      dropzoneOptions: {\r\n        url: ()=> {\r\n          const infoUser = this.$store.state.auth.infoUser\r\n          return `http://localhost:5000/api/vehicles/upload-images/${infoUser._id}`\r\n        },\r\n        thumbnailWidth: 150,\r\n        thumbnailHeight: 150,\r\n        maxFilesize: 2,\r\n        acceptedFiles : \"image/*\",\r\n        headers: { \r\n          'Authorization': 'authorizationHeader',\r\n          'Cache-Control': null,\r\n          'X-Requested-With': null,\r\n          'token' : this.$store.state.auth.token\r\n          },\r\n        dictDefaultMessage: \"<i class='fa fa-cloud-upload'></i>Thêm Ảnh\",\r\n        maxFiles : 6,\r\n        paramName : \"fileImage\",\r\n      },\r\n    };\r\n  },\r\n  validations: {\r\n    name: {\r\n      required,\r\n      minLength: minLength(3),\r\n      maxLength: maxLength(255),\r\n    },\r\n    numberOfSeats : {\r\n      required,\r\n      between : between(4, 60)\r\n    },\r\n    utilities : {\r\n      minLength: minLength(3),\r\n      maxLength: maxLength(1000)\r\n    }\r\n  },\r\n  watch: {\r\n    vehicle(value) {\r\n      this.$refs.myVueDropzone.removeAllFiles();\r\n      if (value) {\r\n        this.listImages = [];\r\n        this.$toast.success(\"Thêm xe thành công\", {\r\n          position: \"bottom-right\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    loading() {\r\n      return this.$store.state.vehicle.loading;\r\n    },\r\n    vehicle() {\r\n      return this.$store.state.vehicle.vehicle;\r\n    },\r\n    userInfo () {\r\n      return this.$store.state.auth.infoUser;\r\n    }\r\n  },\r\n  methods: {\r\n    handleSubmit(event) {\r\n      if (this.$v.$anyDirty && !this.$v.$anyError && !this.errImage) {\r\n        const formData = {\r\n          name: this.name,\r\n          numberOfSeats : this.numberOfSeats,\r\n          utilities : this.utilities,\r\n          listImages : this.listImages\r\n        };\r\n        if (this.file) {\r\n          let fileAvatar = new FormData();\r\n          fileAvatar.append(\"avatar\", this.file);\r\n          this.$store.dispatch(\"postVehicle\", { formData, fileAvatar });\r\n        } else {\r\n          this.$store.dispatch(\"postVehicle\", { formData, fileAvatar: null });\r\n        }\r\n        event.target.reset();\r\n      }\r\n    },\r\n    previewFile(event) {\r\n      const accessTypeFile = [\"image/jpeg\", \"image/png\", \"image/gif\"];\r\n      const file = event.target.files[0];\r\n      if (accessTypeFile.find((type) => type === file.type)) {\r\n        if (file.size > 2 * 1024 * 1024) {\r\n          this.errImage = \"kích thước file ảnh tối đa 2MB!\";\r\n          this.fileName = \"Chọn File Ảnh\";\r\n          this.urlImage = null;\r\n        } else {\r\n          this.file = file;\r\n          this.fileName = file.name;\r\n          this.errImage = null;\r\n          this.urlImage = URL.createObjectURL(file);\r\n        }\r\n      } else {\r\n        this.errImage = \"File ảnh không hợp lệ\";\r\n        this.fileName = \"Chọn File Ảnh\";\r\n        this.urlImage = null;\r\n      }\r\n    },\r\n    removeFile () {\r\n      // console.log(file)\r\n    },\r\n    successUpload(file, res){\r\n      this.listImages.push(res.fileName)\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.image-preview {\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  padding: 5px;\r\n  width: 300px;\r\n  max-width: 300px;\r\n  min-width: 300px;\r\n  height: 200px;\r\n}\r\n\r\nimg.image-preview:hover {\r\n  box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=7ab2b7d6&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}