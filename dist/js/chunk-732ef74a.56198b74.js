(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-732ef74a"],{1276:function(t,e,a){"use strict";var i=a("d784"),n=a("44e7"),r=a("825a"),s=a("1d80"),o=a("4840"),l=a("8aa5"),c=a("50c4"),u=a("14c3"),d=a("9263"),v=a("d039"),h=[].push,p=Math.min,m=4294967295,f=!v((function(){return!RegExp(m,"y")}));i("split",2,(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=String(s(this)),r=void 0===a?m:a>>>0;if(0===r)return[];if(void 0===t)return[i];if(!n(t))return e.call(i,t,r);var o,l,c,u=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=new RegExp(t.source,v+"g");while(o=d.call(f,i)){if(l=f.lastIndex,l>p&&(u.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&h.apply(u,o.slice(1)),c=o[0].length,p=l,u.length>=r))break;f.lastIndex===o.index&&f.lastIndex++}return p===i.length?!c&&f.test("")||u.push(""):u.push(i.slice(p)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n,a):i.call(String(n),e,a)},function(t,n){var s=a(i,t,this,n,i!==e);if(s.done)return s.value;var d=r(t),v=String(this),h=o(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"y":"g"),_=new h(f?d:"^(?:"+d.source+")",b),$=void 0===n?m:n>>>0;if(0===$)return[];if(0===v.length)return null===u(_,v)?[v]:[];var C=0,y=0,x=[];while(y<v.length){_.lastIndex=f?y:0;var w,k=u(_,f?v:v.slice(y));if(null===k||(w=p(c(_.lastIndex+(f?0:y)),v.length))===C)y=l(v,y,g);else{if(x.push(v.slice(C,y)),x.length===$)return x;for(var I=1;I<=k.length-1;I++)if(x.push(k[I]),x.length===$)return x;y=C=w}}return x.push(v.slice(C)),x}]}),!f)},"44e7":function(t,e,a){var i=a("861d"),n=a("c6b6"),r=a("b622"),s=r("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"4e0b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("h1",{staticClass:"h4 mb-2 text-gray-800"},[t._v("Thêm Mới Chuyến Đi")]),a("form",{attrs:{role:"form",method:"POST",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Tuyến đường")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.route,expression:"route"}],staticClass:"form-control",on:{blur:function(e){return t.$v.route.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.route=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Tuyến Đường")]),t._l(t.routes,(function(e,i){return a("option",{key:i,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2),t.$v.route.$dirty&&!t.$v.route.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn tuyến đường!")]):t._e()]),a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Thời gian xuất phát")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticClass:"form-control",on:{blur:function(e){return t.$v.hours.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hours=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1",disabled:""}},[t._v("Giờ")]),t._l(24,(function(e){return a("option",{key:e,domProps:{value:e-1}},[t._v(t._s(e-1)+" Giờ")])}))],2),t.$v.hours.$dirty&&!t.$v.hours.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn giờ!")]):t._e()]),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute,expression:"minute"}],staticClass:"form-control",on:{blur:function(e){return t.$v.minute.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minute=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1",disabled:""}},[t._v("Phút")]),t._l(60,(function(e){return a("option",{key:e,domProps:{value:e-1}},[t._v(t._s(e-1)+" Phút")])}))],2),t.$v.minute.$dirty&&!t.$v.minute.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn Phút!")]):t._e()]),a("div",{staticClass:"col-sm-6"},[a("date-picker",{attrs:{"input-class":"form-control",lang:t.lang,placeholder:"Chọn Ngày",editable:!1,valueType:"format"},on:{blur:function(e){return t.$v.date.$touch()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t.$v.date.$dirty&&!t.$v.date.required?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn ngày!")]):t._e()],1)])]),a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Ghi chú")]),a("ckeditor",{attrs:{name:"note",editor:t.editor,config:t.editorConfig},on:{blur:function(e){return t.$v.note.$touch()}},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),t.$v.note.$dirty&&!t.$v.note.required?a("p",{staticClass:"alert-danger mt-2"},[t._v("Nội dung không được để trống !")]):t._e(),!t.$v.note.$dirty||t.$v.note.minLength&&t.$v.note.maxLength?t._e():a("p",{staticClass:"alert-danger mt-2"},[t._v("Độ dài ghi chú phải từ 3 đến 255 ký tự !")])],1)])])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nhà xe")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.garage,expression:"garage"}],staticClass:"form-control",on:{blur:function(e){return t.$v.garage.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.garage=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Nhà Xe")]),t._l(t.garages,(function(e,i){return a("option",{key:i,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2),t.$v.garage.$dirty&&!t.$v.garage.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn nhà xe!")]):t._e()]),a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Loại xe")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.vehicle,expression:"vehicle"}],staticClass:"form-control",on:{blur:function(e){return t.$v.vehicle.$touch()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.vehicle=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Chọn Loại Xe")]),t._l(t.vehicles,(function(e,i){return a("option",{key:i,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2),t.$v.vehicle.$dirty&&!t.$v.vehicle.isValid?a("p",{staticClass:"alert-danger mt-2"},[t._v("Bạn chưa chọn loại xe!")]):t._e()]),a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Giá")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"number",name:"price",autocomplete:"off"},domProps:{value:t.price},on:{blur:function(e){return t.$v.price.$touch()},input:function(e){e.target.composing||(t.price=e.target.value)}}}),t.$v.price.$dirty&&!t.$v.price.required?a("p",{staticClass:"alert-danger mt-2"},[t._v("Giá không được để trống !")]):t._e()])])])]),a("div",{staticClass:"col-sm-12 "},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-footer text-center"},[a("router-link",{staticClass:"btn btn-sm btn-warning btn-icon-split",attrs:{to:"/admin/trips",type:"button"}},[a("span",{staticClass:"icon text-white-50"},[a("i",{staticClass:"fas fa-exclamation-triangle"})]),a("span",{staticClass:"text"},[t._v("Hủy Bỏ")])]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-primary btn-icon-split",attrs:{type:"submit"}},[a("span",{staticClass:"icon text-white-50"},[t.loading?a("i",{staticClass:"fa fa-spinner fa-spin"}):a("i",{staticClass:"fa fa-save"})]),a("span",{staticClass:"text"},[t._v("Thêm Mới")])])],1)])])])])])},n=[],r=(a("ac1f"),a("1276"),a("b5ae")),s=a("fb3d"),o=a.n(s),l=a("ec45"),c=(a("411c"),a("de1a"),{name:"app",data:function(){return{editor:o.a,editorConfig:{},route:"0",garage:"0",vehicle:"0",note:"",price:"",date:"",hours:"-1",minute:"-1",startTime:"",lang:{formatLocale:{firstDayOfWeek:1},monthBeforeYear:!1}}},created:function(){this.$store.dispatch("fetchListRoutes"),this.$store.dispatch("fetchListGarages"),this.$store.dispatch("fetchListVehicles")},components:{DatePicker:l["default"]},validations:{note:{required:r["required"],minLength:Object(r["minLength"])(3),maxLength:Object(r["maxLength"])(255)},route:{isValid:Object(r["not"])((function(t){return"0"===t}))},garage:{isValid:Object(r["not"])((function(t){return"0"===t}))},vehicle:{isValid:Object(r["not"])((function(t){return"0"===t}))},hours:{isValid:Object(r["not"])((function(t){return"-1"===t}))},minute:{isValid:Object(r["not"])((function(t){return"-1"===t}))},date:{required:r["required"]},price:{required:r["required"]}},watch:{trip:function(t){t&&this.$toast.success("Thêm chuyến xe thành công",{position:"bottom-right"})}},computed:{loading:function(){return this.$store.state.trip.loading},trip:function(){return this.$store.state.trip.trip},routes:function(){return this.$store.state.routes.data},vehicles:function(){return this.$store.state.vehicle.data},garages:function(){return this.$store.state.garage.data}},methods:{handleSubmit:function(t){if(this.$v.$anyDirty&&!this.$v.$anyError){var e=this.date.split("-"),a=new Date(e[0],e[1]-1,e[2],this.hours,this.minute),i={garageId:this.garage,routeId:this.route,vehicleId:this.vehicle,startTime:a,price:this.price,note:this.note};this.$store.dispatch("postTrip",i),t.target.reset()}}}}),u=c,d=(a("62a2"),a("2877")),v=Object(d["a"])(u,i,n,!1,null,null,null);e["default"]=v.exports},"62a2":function(t,e,a){"use strict";var i=a("f721"),n=a.n(i);n.a},f721:function(t,e,a){}}]);
//# sourceMappingURL=chunk-732ef74a.56198b74.js.map